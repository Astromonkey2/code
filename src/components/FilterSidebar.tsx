'use client';
import React,{useState}from 'react';import {ChevronDown} from 'lucide-react';import {useSearch} from '@/lib/search-context';
function FilterSection({title,field,options}:{title:string;field:'author'|'type'|'date';options:string[]}){const[open,setOpen]=useState(true);const{filters,toggleFilter}=useSearch();return(<div className="border-b border-gray-200/20 pb-6 mb-6"><button onClick={()=>setOpen(!open)}className="w-full flex justify-between items-center py-2 text-white text-lg font-semibold hover:text-orange-400 transition-colors"><span>{title}</span><ChevronDown size={20}className={`transition-all ${open?'rotate-180':''}`}/></button>{open&&(<div className="mt-4 space-y-3">{options.map(opt=>{const checked=filters[field].includes(opt);return(<label key={opt}className="flex items-center gap-3 cursor-pointer hover:bg-white/5 p-2 rounded-lg transition-all"><input type="checkbox"checked={checked}onChange={()=>toggleFilter(field,opt)}className="sr-only"/><div className={`w-5 h-5 rounded border-2 ${checked?'bg-orange-500 border-orange-500':'border-gray-400'}`}>{checked&&<svg className="w-3 h-3 text-white mx-auto mt-0.5"viewBox="0 0 20 20"fill="currentColor"><path fillRule="evenodd"clipRule="evenodd"d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1..."/></svg>}</div><span className={`text-sm ${checked?'text-white font-medium':'text-gray-300'}`}>{opt}</span></label>);})}</div>)}</div>);}export default function FilterSidebar(){return(<aside className="bg-mid/50 backdrop-blur-sm border border-white/20 rounded-2xl p-6"><FilterSection title="Author"field="author"options={["Alice Johnson","Bob Smith","Carol Davis"]}/><FilterSection title="Document Type"field="type"options={["PDF","DOCX","XLSX"]}/><FilterSection title="Date Range"field="date"options={["Last 24 hours","Last week","Older"]}/></aside>);
}


